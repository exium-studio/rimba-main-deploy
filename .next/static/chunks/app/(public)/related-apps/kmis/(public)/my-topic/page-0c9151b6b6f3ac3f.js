(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3161],{42586:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>I});var i=t(95155),n=t(1208),s=t(25535),a=t(32548),r=t(7961),c=t(50588),o=t(77141),d=t(9123),u=t(76928),p=t(30918),x=t(25056),h=t(80613),j=t(36780),f=t(2431);let m=e=>{let{...l}=e,{l:t}=(0,j.A)(),n=[{id:2,label:t.finished},{id:3,label:t.on_progress}];return(0,i.jsx)(h.p,{id:"select_".concat("kmis-course_finished_status"),title:(0,f.kR)(t.course_finished_status),selectOptions:n,placeholder:(0,f.kR)(t.course_finished_status),...l})};var g=t(93736),v=t(12115);let b=e=>{let{...l}=e,{l:t}=(0,j.A)(),[n]=(0,v.useState)(g.Io);return(0,i.jsx)(h.p,{id:"select_".concat("kmis_material_type"),title:(0,f.kR)(t.topic_type),selectOptions:n,...l})};var P=t(35189),y=t(60439),k=t(19971),C=t(77535),_=t(46845),A=t(76150);let T=e=>{var l,t,a;let{filter:r,setFilter:p,...h}=e,j=(0,v.useRef)(null),{error:f,initialLoading:m,data:g,onRetry:b,limit:T,setLimit:w,page:S,setPage:z,pagination:V}=(0,P.A)({initialData:void 0,url:"/api/kmis/learning-course/get-all-learning-attempt",params:{search:r.search,categoryId:r.category,finishedStatus:null==(t=r.finishedStatus)||null==(l=t[0])?void 0:l.id,topicType:r.topicType},dependencies:[r]}),I={loading:(0,i.jsx)(k.EA,{rounded:"lg",minH:"calc(100vh - 37px - 140px - 64px)"}),error:(0,i.jsx)(o.A,{onRetry:b,minH:"calc(100vh - 37px - 140px - 64px)"}),empty:(0,i.jsx)(c.A,{minH:"calc(100vh - 37px - 140px - 64px)"}),loaded:(0,i.jsxs)(C.B,{flexDir:["column",null,"row"],align:"stretch",gap:4,children:[(0,i.jsx)(s.T,{flex:1,gap:4,children:(0,i.jsx)(n.T,{filter:r,setFilter:p})}),(0,i.jsxs)(s.T,{ref:j,gap:4,children:[(0,i.jsx)(_.r,{columns:[1,null,2,3,null,4],gap:4,children:null==g?void 0:g.map((e,l)=>(0,i.jsx)(d.j,{myCourse:!0,learningAttempt:e,topic:e.topic,idx:l},l))}),(0,i.jsxs)(A.z,{justify:"space-between",children:[(0,i.jsx)(u.f,{limit:T,setLimit:w}),(0,i.jsx)(x.d,{page:S,setPage:z,totalPage:null==V||null==(a=V.meta)?void 0:a.last_page})]})]})]})};return(0,i.jsxs)(s.T,{flex:3,...h,children:[m&&I.loading,!m&&(0,i.jsxs)(i.Fragment,{children:[f&&I.error,!f&&(0,i.jsxs)(i.Fragment,{children:[g&&I.loaded,(!g||(0,y.VP)(g))&&I.empty]})]})]})},w=e=>{var l;let{...t}=e,{l:n}=(0,j.A)(),[c,o]=(0,v.useState)({search:"",finishedStatus:null,category:[],topicType:["Pelatihan","Pengetahuan"]});return(0,i.jsx)(p.$,{outerContainerProps:{flex:1},flex:1,...t,children:(0,i.jsxs)(s.T,{flex:3.5,gap:4,children:[(0,i.jsxs)(s.T,{gap:4,children:[(0,i.jsx)(s.T,{w:"fit",gap:1,children:(0,i.jsx)(a.H3,{fontWeight:"semibold",children:(0,f.kR)(n.my_course)})}),(0,i.jsxs)(A.z,{children:[(0,i.jsx)(r.A,{flex:"1 1 200px",inputValue:c.search,onChange:e=>{o({...c,search:e})}}),(0,i.jsx)(b,{multiple:!0,inputValue:null==(l=c.topicType)?void 0:l.map(e=>({id:e,label:e})),onConfirm:e=>{o({...c,topicType:null==e?void 0:e.map(e=>e.id)})},placeholder:n.topic_type,w:"140px"}),(0,i.jsx)(m,{inputValue:c.finishedStatus,onConfirm:e=>o({...c,finishedStatus:e}),w:"140px"})]})]}),(0,i.jsx)(T,{filter:c,setFilter:o})]})})};var S=t(73077),z=t(36814),V=t(52033);function I(){let{l:e}=(0,j.A)();return(0,i.jsxs)(s.T,{minH:"100dvh",children:[(0,i.jsx)(V.b,{}),(0,i.jsxs)(s.T,{bg:"bgContent",rounded:"3xl",overflow:"clip",zIndex:2,pt:"120px",pb:[4,null,12],children:[(0,i.jsx)(p.$,{mb:4,children:(0,i.jsx)(z.B,{links:[{label:"KMIS",path:"/related-apps/kmis?topicType=Pelatihan, Pengetahuan"},{label:e.my_course,path:"/related-apps/kmis/my-topic"}]})}),(0,i.jsx)(w,{})]}),(0,i.jsx)(S.k,{})]})}},43021:(e,l,t)=>{Promise.resolve().then(t.bind(t,42586))},48883:(e,l,t)=>{"use strict";t.d(l,{A:()=>i});let i=(0,t(30313).A)("outline","reload","Reload",[["path",{d:"M19.933 13.041a8 8 0 1 1 -9.925 -8.788c3.899 -1 7.935 1.007 9.425 4.747",key:"svg-0"}],["path",{d:"M20 4v5h-5",key:"svg-1"}]])},80613:(e,l,t)=>{"use strict";t.d(l,{p:()=>z});var i=t(95155),n=t(46426),s=t(25535),a=t(88121),r=t(73457),c=t(66825),o=t(95145),d=t(58226),u=t(7961),p=t(46767),x=t(55803),h=t(50588),j=t(36780),f=t(93454),m=t(3370),g=t(60439),v=t(32309),b=t(2431),P=t(8898),y=t(76150),k=t(98781),C=t(50857),_=t(92091),A=t(82987),T=t(48883),w=t(12115);let S=e=>{let{multiple:l,selectOptions:t,selected:a,setSelected:c,...o}=e,{l:p}=(0,j.A)(),{themeConfig:m}=(0,f.p)(),[v,b]=(0,w.useState)(""),[k,C]=(0,w.useState)(!1),_=null==t?void 0:t.filter(e=>{var l;return null==(l=e.label)?void 0:l.toLowerCase().includes(null==v?void 0:v.toLowerCase())});return(0,w.useEffect)(()=>{a&&C(a.length===(null==t?void 0:t.length))},[a]),(0,i.jsxs)(s.T,{...o,children:[(0,i.jsx)(s.T,{px:4,pt:2,pos:"sticky",top:0,bg:"body",zIndex:2,children:(0,i.jsx)(u.A,{inputValue:v,onChange:e=>{b(e||"")},inputProps:{variant:"flushed",rounded:0}})}),(0,g.VP)(_)&&(0,i.jsx)(h.A,{minH:"250px"}),!(0,g.VP)(_)&&(0,i.jsxs)(i.Fragment,{children:[l&&(0,i.jsx)(s.T,{px:7,pt:4,zIndex:3,children:(0,i.jsx)(P.a,{onClick:e=>{e.stopPropagation(),e.preventDefault(),k?c([]):c(t)},w:"fit-content",children:(0,i.jsx)(r.S,{name:"select_all",onChange:e=>{C(e.target.checked),e.stopPropagation()},checked:k,invalid:!1,size:"md",colorPalette:m.colorPalette,children:(0,i.jsx)(d.P,{children:p.select_all})})})}),(0,i.jsx)(s.T,{p:4,gap:2,children:null==_?void 0:_.map((e,t)=>{let s=null==a?void 0:a.some(l=>l.id===e.id);return(0,i.jsx)(n.t,{clicky:!1,variant:"ghost",justifyContent:"start",size:"md",onClick:()=>{l?a.some(l=>l.id===e.id)?c(a.filter(l=>l.id!==e.id)):c([...a,e]):c([e])},children:(0,i.jsxs)(y.z,{w:"full",justify:"space-between",children:[(0,i.jsx)(d.P,{textAlign:"left",children:e.label}),s&&(0,i.jsx)(x.P3,{})]})},"".concat(e.id,"-").concat(t))})})]})]})},z=e=>{let{id:l,title:t="",inputValue:s,onConfirm:r,loading:u,selectOptions:x,placeholder:h,invalid:P,required:z,multiple:V,disclosureSize:I="xs",fetch:R,...F}=e,{l:H}=(0,j.A)(),{themeConfig:E}=(0,f.p)(),L=(0,k.f)(),{open:O,onOpen:M,onClose:N}=(0,C.j)();(0,m.A)(l||"select-input",O,M,N);let[B,D]=(0,w.useState)([]),J=h||"".concat(H.select),$=s&&!(0,g.VP)(s)?s.map(e=>e.label).join(", "):J;return(0,w.useEffect)(()=>{s&&!(0,g.VP)(s)?D(s):D([])},[O]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.m,{content:$,children:(0,i.jsx)(n.t,{w:"full",size:"md",clicky:!1,variant:"outline",justifyContent:"start",borderColor:(null!=P?P:null==L?void 0:L.invalid)?"border.error":"border.muted",onClick:M,...F,children:(0,i.jsxs)(y.z,{w:"full",justify:"space-between",children:[!(0,g.VP)(s)&&(0,i.jsx)(d.P,{lineClamp:1,textAlign:"left",children:$}),(0,g.VP)(s)&&(0,i.jsx)(d.P,{color:"placeholder",lineClamp:1,textAlign:"left",children:J}),(0,i.jsx)(_.I,{color:"fg.subtle",flexShrink:0,boxSize:4,mr:"-2px",children:(0,i.jsx)(A.A,{stroke:1.5})})]})})}),(0,i.jsx)(c.i0,{open:O,lazyLoad:!0,size:I,children:(0,i.jsxs)(c.L7,{children:[(0,i.jsx)(c.$Z,{children:(0,i.jsx)(o.G,{title:(0,b.kR)("".concat(H.select," ").concat(t)),children:R&&(0,i.jsx)(n.t,{iconButton:!0,size:["sm",null,"2xs"],rounded:"full",variant:["ghost",null,"subtle"],pos:"absolute",right:[12,null,11],disabled:u,onClick:R,children:(0,i.jsx)(_.I,{boxSize:4,children:(0,i.jsx)(T.A,{stroke:1.5})})})})}),(0,i.jsxs)(c.Ql,{p:0,overflowY:"auto",className:"noScroll",children:[u&&(0,i.jsx)(a.J,{}),!u&&(0,i.jsx)(S,{multiple:V,selectOptions:x,selected:B,setSelected:D})]}),(0,i.jsxs)(c.PK,{children:[(0,i.jsx)(n.t,{variant:"outline",onClick:()=>{D([])},children:"Clear"}),(0,i.jsx)(n.t,{colorPalette:E.colorPalette,disabled:z&&(0,g.VP)(B),onClick:function(){z||((0,g.VP)(B)?null==r||r(null):null==r||r(B),(0,v.aX)())},children:H.confirm})]})]})})]})}},88121:(e,l,t)=>{"use strict";t.d(l,{J:()=>a});var i=t(95155),n=t(25535),s=t(18653);let a=e=>{let{spinnerProps:l,...t}=e;return(0,i.jsx)(n.T,{minH:"300px",align:"center",justify:"center",opacity:.4,m:"auto",p:4,...t,children:(0,i.jsx)(s.A,{...l})})}},93736:(e,l,t)=>{"use strict";t.d(l,{Io:()=>n,JV:()=>i});let i=[{id:0,label:"Female"},{id:1,label:"Male"}],n=[{id:"Pelatihan",label:"Pelatihan"},{id:"Pengetahuan",label:"Pengetahuan"}]}},e=>{e.O(0,[2150,7596,586,9731,8250,292,2619,3672,9120,7877,642,2821,644,221,9958,8441,4696,7358],()=>e(e.s=43021)),_N_E=e.O()}]);