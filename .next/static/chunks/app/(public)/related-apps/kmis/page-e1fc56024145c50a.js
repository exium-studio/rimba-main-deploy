(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3091],{35189:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(12115),l=r(40773),s=r(93885),i=r(79310);let a=e=>{let{initialData:t,dummyData:r,payload:a,params:o,url:c,method:d,dependencies:u=[],conditions:x=!0,noRt:p=!1,initialPage:f=1,initialLimit:h=15,intialOffset:g=0,dataResource:j=!0}=e,m=(0,i.z)(e=>e.setLoadingBar),[v,b]=(0,n.useState)(r||t),[y,A]=(0,n.useState)(!0),[S,T]=(0,n.useState)(!1),[w,k]=(0,n.useState)(f),[P,C]=(0,n.useState)(h),[z,_]=(0,n.useState)(g),[E,R]=(0,n.useState)(void 0),{rt:H}=(0,s.A)(),{req:I,response:B,loading:F,error:L,status:W}=(0,l.A)({id:c||"data-state",showLoadingToast:!1,showErrorToast:!0,showSuccessToast:!1}),N={limit:P,page:w,...a},V={limit:P,page:w,...o},$={url:c,method:d,data:N,params:j?V:null},D=(0,n.useRef)(null),K=(0,n.useRef)(null);function M(){if(!c)return;K.current=c;let e=new AbortController;D.current=e;let t={...$,signal:e.signal};Promise.resolve().then(()=>{K.current===c&&I({config:t,onResolve:{onSuccess:e=>{var t,n,l,s,i,a,o;R(null==e||null==(n=e.data)||null==(t=n.data)?void 0:t.pagination),A(!1),r?b(r):b(j?Array.isArray(null==e||null==(l=e.data)?void 0:l.data)?null==e||null==(s=e.data)?void 0:s.data:null==e||null==(a=e.data)||null==(i=a.data)?void 0:i.data:null==e||null==(o=e.data)?void 0:o.data)},onError:()=>{A(!1)}}})})}return(0,n.useEffect)(()=>{if(!x||!c)return;let e=setTimeout(()=>{M()},50);return()=>{clearTimeout(e),D.current&&D.current.abort()}},[x,c,w,P,...p?[]:[H],...u||[]]),(0,n.useEffect)(()=>{C(h)},[h]),(0,n.useEffect)(()=>{c||A(!1)},[c]),(0,n.useEffect)(()=>{m(F)},[F]),{makeRequest:M,onRetry:function(){A(!0),M()},data:v,setData:b,initialLoading:y,setInitialLoading:A,loading:F,error:L,loadMore:function(){T(!0),I({config:{...$},onResolve:{onSuccess:e=>{var t,r,n;b(v?[...v,...null==e||null==(t=e.data)?void 0:t.data]:null==e||null==(r=e.data)?void 0:r.data),R(null==e||null==(n=e.data)?void 0:n.pagination),T(!1)}}})},loadingLoadMore:S,setLoadingLoadMore:T,pagination:E,page:w,setPage:k,limit:P,setLimit:C,offset:z,setOffset:_,response:B,status:W}}},36814:(e,t,r)=>{"use strict";r.d(t,{B:()=>d});var n=r(95155),l=r(88890),s=r(58226),i=r(76150),a=r(92091),o=r(95585),c=r(12115);let d=e=>{let{links:t,...r}=e;return(0,n.jsx)(i.z,{w:"fit",...r,children:t.map((e,r)=>{let i=r===t.length-1;return(0,n.jsxs)(c.Fragment,{children:[(0,n.jsx)(l.k,{to:i?"":e.path,w:"fit",children:(0,n.jsx)(s.P,{lineClamp:1,opacity:i?.6:1,maxW:"240px",children:e.label})},e.path),!i&&(0,n.jsx)(a.I,{boxSize:5,children:(0,n.jsx)(o.A,{stroke:1.5})})]},r)})})}},39957:(e,t,r)=>{"use strict";r.d(t,{L:()=>d});var n=r(12115),l=r(47605);let s="undefined"!=typeof document?n.useLayoutEffect:n.useEffect,i=e=>e&&!Array.isArray(e)&&"object"==typeof e,a=[],o={},c=l.Ay,d=(e,t=a)=>{let r=o;i(e)?(r=e,e=null,t="dependencies"in r?r.dependencies:a):i(t)&&(t="dependencies"in(r=t)?r.dependencies:a),e&&"function"!=typeof e&&console.warn("First parameter must be a function or config object");let{scope:l,revertOnUpdate:d}=r,u=(0,n.useRef)(!1),x=(0,n.useRef)(c.context(()=>{},l)),p=(0,n.useRef)(e=>x.current.add(null,e)),f=t&&t.length&&!d;return f&&s(()=>(u.current=!0,()=>x.current.revert()),a),s(()=>{if(e&&x.current.add(e,l),!f||!u.current)return()=>x.current.revert()},t),{context:x.current,contextSafe:p.current}};d.register=e=>{c=e},d.headless=!0},50588:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(95155),l=r(25535),s=r(52012),i=r(36780),a=r(92091),o=r(53360),c=r(58832);function d(e){let{title:t,description:r,icon:d,children:u,...x}=e,{l:p}=(0,i.A)();return(0,n.jsxs)(l.T,{w:"fit",m:"auto",align:"center",minH:s.Y6,justify:"center",gap:4,...x,children:[(0,n.jsx)(c.A,{icon:(0,n.jsx)(a.I,{mb:t?-2:0,children:d||(0,n.jsx)(o.A,{stroke:1.8})}),title:null!=t?t:p.alert_no_data.title,description:null!=r?r:p.alert_no_data.description,maxW:"300px"}),u]})}},58832:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(95155),l=r(58226),s=r(59964),i=r(92091),a=r(53360);let o=e=>{let{icon:t,title:r,description:o,children:c,iconProps:d,titleProps:u,descriptionProps:x,...p}=e,f="string"==typeof r,h="string"==typeof o;return(0,n.jsxs)(s.T,{gap:1,p:4,maxW:"300px",...p,children:[(0,n.jsx)(i.I,{mb:2,color:"fg.subtle",boxSize:9,...d,children:t||(0,n.jsx)(a.A,{stroke:1.8})}),f&&(0,n.jsx)(l.P,{textAlign:"center",fontWeight:"semibold",...u,children:r}),!f&&r,h&&(0,n.jsx)(l.P,{textAlign:"center",color:"fg.subtle",...x,children:o}),!h&&o,c]})}},73457:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var n=r(95155),l=r(93454),s=r(80968),i=r(92091),a=r(2186);let o=(0,r(12115).forwardRef)(function(e,t){let{icon:r,children:o,inputProps:c,rootRef:d,checked:u,subtle:x,...p}=e,{themeConfig:f}=(0,l.p)(),h="0px"===f.radii.component;return(0,n.jsxs)(s.y8,{ref:d,cursor:e.disabled?"not-allowed":"pointer",colorPalette:f.colorPalette,...p,children:[(0,n.jsx)(s.Ks,{ref:t,...c}),(0,n.jsx)(s.v7,{bg:p.bg||u?f.primaryColor:x?"bg.muted":"transparent",rounded:(null==e?void 0:e.rounded)||h?"0px":"sm",borderColor:p.borderColor||u?"transparent":x?"border.muted":"d3",cursor:e.disabled?"not-allowed":"pointer",children:u&&(0,n.jsx)(i.I,{boxSize:4,color:"".concat(f.colorPalette,".contrast"),children:r||(0,n.jsx)(a.A,{})})}),null!=o&&(0,n.jsx)(s.Sb,{children:o})]})})},77141:(e,t,r)=>{"use strict";r.d(t,{A:()=>x});var n=r(95155),l=r(46426),s=r(25535),i=r(58832),a=r(52012),o=r(36780),c=r(93454),d=r(92091),u=r(44748);function x(e){let{title:t,description:r,icon:x,onRetry:p,children:f,...h}=e,{themeConfig:g}=(0,c.p)(),{l:j}=(0,o.A)();return(0,n.jsxs)(s.T,{w:"fit",m:"auto",minH:a.Y6,justify:"center",...h,children:[(0,n.jsx)(i.A,{icon:(0,n.jsx)(d.I,{mb:t?-2:0,children:x||(0,n.jsx)(u.A,{stroke:1.8})}),title:null!=t?t:j.alert_retry.title,description:null!=r?r:j.alert_retry.description,maxW:"300px"}),(0,n.jsx)(l.t,{className:"clicky",colorPalette:g.colorPalette,onClick:p,variant:"outline",children:j.retry}),f]})}},79310:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});let n=(0,r(25959).v)(e=>({loadingBar:!1,setLoadingBar:t=>e({loadingBar:t})}))},86997:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var n=r(95155),l=r(1208),s=r(25535),i=r(7961),a=r(50588),o=r(77141),c=r(9123),d=r(76928),u=r(30918),x=r(85388),p=r(25056),f=r(64254),h=r(35189),g=r(60439),j=r(22484),m=r(19971),v=r(46845),b=r(76150),y=r(77535),A=r(20063),S=r(12115);let T=e=>{var t;let{filter:r,setFilter:u,...T}=e,w=(0,f.A)(e=>e.verifiedAuthToken)||(0,j.c4)(),k=(0,A.useSearchParams)(),P=(0,S.useRef)(null),C=k.get("topicType"),{error:z,initialLoading:_,data:E,onRetry:R,limit:H,setLimit:I,page:B,setPage:F,pagination:L}=(0,h.A)({initialData:void 0,url:"/api/kmis/public-request/get-all-topic",params:{search:r.search,categoryId:r.category,topicType:null==C?void 0:C.split(", ")},dependencies:[r,C]}),W={loading:(0,n.jsx)(m.EA,{rounded:"lg",flex:1,minH:"calc(100vh - 37px - 140px - 64px - 200px)"}),error:(0,n.jsx)(o.A,{onRetry:R,minH:"calc(100vh - 37px - 140px - 64px - 200px)"}),empty:(0,n.jsx)(a.A,{minH:"calc(100vh - 37px - 140px - 64px - 200px)"}),loaded:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.r,{columns:[1,null,2,3,null,4],gap:4,children:null==E?void 0:E.map((e,t)=>(0,n.jsx)(c.j,{topic:e,idx:t},t))}),(0,n.jsxs)(b.z,{justify:"space-between",children:[(0,n.jsx)(d.f,{limit:H,setLimit:I}),(0,n.jsx)(p.d,{page:B,setPage:F,totalPage:null==L||null==(t=L.meta)?void 0:t.last_page})]})]})};return(0,n.jsxs)(s.T,{flex:3.5,gap:4,...T,children:[(0,n.jsx)(s.T,{gap:4,children:(0,n.jsx)(i.A,{inputValue:r.search,onChange:e=>{u({...r,search:e})}})}),(0,n.jsxs)(y.B,{flexDir:["column",null,"row"],align:"stretch",gap:4,children:[(0,n.jsxs)(s.T,{flex:1,gap:4,children:[w&&(0,n.jsx)(x.V,{}),(0,n.jsx)(l.T,{filter:r,setFilter:u})]}),(0,n.jsxs)(s.T,{ref:P,gap:4,children:[_&&W.loading,!_&&(0,n.jsxs)(n.Fragment,{children:[z&&W.error,!z&&(0,n.jsxs)(n.Fragment,{children:[E&&W.loaded,(!E||(0,g.VP)(E))&&W.empty]})]})]})]})]})},w=e=>{let{...t}=e,[r,l]=(0,S.useState)({search:"",category:[]});return(0,n.jsx)(u.$,{outerContainerProps:{flex:1},flex:1,...t,children:(0,n.jsx)(T,{filter:r,setFilter:l})})};var k=r(73077),P=r(90118),C=r(52033),z=r(11698),_=r(48169),E=r(36780);function R(){let{l:e}=(0,E.A)(),t=(0,_.A)(e=>e.staticContents);return(0,n.jsxs)(s.T,{bg:"bgContent",minH:"100dvh",children:[(0,n.jsx)(C.b,{}),(0,n.jsx)(P.z,{titleContent:t[118],descriptionContent:t[119],img:"".concat(z.$Q,"/kmis/bookshelf.jpg"),links:[{label:e.lp_navs.home,path:"/"},{label:"KMIS",path:"/kmis"}]}),(0,n.jsx)(s.T,{flex:1,bg:"bgContent",py:"80px",rounded:"3xl",mt:"-24px",overflow:"clip",zIndex:2,children:(0,n.jsx)(w,{})}),(0,n.jsx)(k.k,{})]})}},90118:(e,t,r)=>{"use strict";r.d(t,{z:()=>h});var n=r(95155),l=r(25535),s=r(32548),i=r(50851),a=r(58226),o=r(36814),c=r(66532),d=r(30918),u=r(36780),x=r(39957),p=r(47605),f=r(12115);let h=e=>{let{titleContent:t,title:r,descriptionContent:h,description:g,img:j,links:m,...v}=e,{lang:b}=(0,u.A)(),y=(0,f.useRef)(null);return(0,x.L)(()=>{p.Ay.to(".header-bg",{scrollTrigger:{trigger:".header-bg",start:"top top",scrub:!0,pin:!0},y:"-30%",opacity:0,duration:.75})},{scope:y,dependencies:[j,r,t]}),(0,n.jsx)(l.T,{ref:y,minH:["100vh",null,"600px"],overflow:"clip",zIndex:2,...v,children:(0,n.jsxs)(d.$,{outerContainerProps:{flex:1,bg:"p.900",pt:"96px",pos:"relative",overflow:"clip"},flex:1,color:"light",children:[j&&(0,n.jsx)(i.E,{className:"header-bg",src:j,flex:1,h:"full !important",w:"full",opacity:.4,pos:"absolute",top:0,left:0}),(0,n.jsxs)(l.T,{mt:"auto",gap:4,py:12,mb:"48px",zIndex:2,children:[m&&(0,n.jsx)(o.B,{links:m,justify:["center",null,"start"]}),t&&(0,n.jsx)(c.h,{content:t,children:(0,n.jsx)(s.H1,{fontWeight:"semibold",lineHeight:1.4,children:t.content[b]})}),r&&(0,n.jsx)(s.H1,{fontWeight:"semibold",lineHeight:1.4,children:r}),h&&(0,n.jsx)(c.h,{content:h,children:(0,n.jsx)(a.P,{fontSize:"lg",children:h.content[b]})}),g&&(0,n.jsx)(a.P,{fontSize:"lg",children:g})]})]})})}},93045:(e,t,r)=>{Promise.resolve().then(r.bind(r,86997))}},e=>{e.O(0,[2150,7596,586,5592,9731,8250,292,2619,3672,9120,7605,7877,642,2821,644,221,8529,8441,4696,7358],()=>e(e.s=93045)),_N_E=e.O()}]);