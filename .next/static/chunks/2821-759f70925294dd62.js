"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2821],{3373:(e,r,t)=>{t.d(r,{G6:()=>m,an:()=>g});var o=t(95155),l=t(55749),n=t(36780),s=t(42631),i=t(19971),a=t(66255),u=t(92091),c=t(90053),d=t(34956),p=t(5379),_=t(12115),h=t(46767);function g(e){return(0,o.jsx)(p.N,{attribute:"class",disableTransitionOnChange:!0,...e})}function m(){let{resolvedTheme:e,setTheme:r}=(0,p.D)();return{colorMode:e,setColorMode:r,toggleColorMode:()=>{r("dark"===e?"light":"dark")}}}(0,_.forwardRef)((e,r)=>{let{tooltipProps:t,...p}=e,{l:_}=(0,n.A)(),{toggleColorMode:g}=m(),{colorMode:f}=m(),{ADM:x}=(0,l.A)();return(0,o.jsx)(s.Y,{fallback:(0,o.jsx)(i.EA,{boxSize:"8"}),children:(0,o.jsx)(h.m,{content:x?_.msg_ADM_active:_.msg_toggle_dark_mode,...t,children:(0,o.jsx)(a.K,{onClick:g,variant:"ghost","aria-label":"Toggle color mode",size:"sm",disabled:x,ref:r,...p,children:(0,o.jsx)(u.I,{boxSize:e.boxSize||5,children:"dark"===f?(0,o.jsx)(c.A,{stroke:1.5}):(0,o.jsx)(d.A,{stroke:1.5})})})})})}).displayName="ColorModeButton"},18653:(e,r,t)=>{t.d(r,{A:()=>n});var o=t(95155),l=t(86555);let n=e=>{let{...r}=e;return(0,o.jsx)(l.y,{...r})}},22484:(e,r,t)=>{t.d(r,{O5:()=>n,c4:()=>l,gL:()=>s});var o=t(32309);function l(){return(0,o.c7)("__auth_token")||null}function n(e,r){(0,o.cT)("__auth_token",e,"local",r)}function s(){let e=(0,o.c7)("__user_data");if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error("Failed to parse user data:",e),null}}},38126:(e,r,t)=>{t.d(r,{X:()=>A,l:()=>k});var o=t(95155),l=t(52012),n=t(93454),s=t(32309),i=t(7579),a=t(92091),u=t(59335),c=t(58579),d=t(67979),p=t(77535),_=t(10254),h=t(44748),g=t(29080),m=t(67812),f=t(3373),x=t(18653);let b={loading:{icon:(0,o.jsx)(x.A,{w:"14px",h:"14px",color:"fg.muted"}),color:"current",bg:{light:"bg.muted",dark:"bg.muted"}},success:{color:"fg.success",bg:{light:"green.100",dark:"green.800"},icon:(0,o.jsx)(_.A,{stroke:1.5})},error:{color:"fg.error",bg:{light:"red.100",dark:"red.800"},icon:(0,o.jsx)(h.A,{stroke:1.6,size:21})},warning:{icon:(0,o.jsx)(g.A,{stroke:1.5}),color:"fg.warning",bg:{light:"orange.100",dark:"orange.800"}},info:{icon:(0,o.jsx)(m.A,{stroke:1.5}),color:"current",bg:{light:"bg.muted",dark:"bg.muted"}}},v=e=>{let{type:r}=e,{colorMode:t}=(0,f.G6)(),l=b[r];return(0,o.jsx)(i.o,{bg:l.bg[t],rounded:"full",w:"32px",h:"32px",ml:"-2px",mt:"-2px",children:(0,o.jsx)(a.I,{color:l.color,children:l.icon})})},A=(0,u.j)({placement:(0,s.oc)()&&window.innerWidth<l.cD?"top":"bottom-end",pauseOnPageIdle:!0}),k=()=>{let{themeConfig:e}=(0,n.p)();return(0,o.jsx)(c.Z,{children:(0,o.jsx)(d.l$,{toaster:A,insetInline:{mdDown:"4"},children:r=>{var t,l;let n=b[r.type];return(0,o.jsxs)(d.mk,{rounded:null==e||null==(t=e.radii)?void 0:t.container,width:{md:"sm"},boxShadow:"none",color:"current",bg:"body !important",border:"1px solid",borderColor:"border.subtle",p:"14px",className:"ss",children:["loading"===r.type?(0,o.jsx)(i.o,{bg:"bg.muted",rounded:"full",p:"6px",w:"32px",h:"32px",ml:-1,mt:-1,children:(0,o.jsx)(x.A,{w:"14px",h:"14px",color:"fg.muted"})}):(0,o.jsx)(v,{type:r.type}),(0,o.jsxs)(p.B,{gap:"1",flex:"1",maxWidth:"100%",ml:1,children:[r.title&&(0,o.jsx)(d.Sb,{fontSize:"md",fontWeight:"medium",color:n.color,children:r.title}),r.description&&(0,o.jsx)(d.aD,{fontSize:"md",children:r.description})]}),r.action&&(0,o.jsx)(d.gC,{rounded:e.radii.component,borderColor:"border.muted",cursor:"pointer",_hover:{bg:"bg.muted"},children:r.action.label}),(null==(l=r.meta)?void 0:l.closable)&&(0,o.jsx)(d.k1,{})]})}})})}},40773:(e,r,t)=>{t.d(r,{A:()=>d});var o=t(38126),l=t(36780),n=t(95125),s=t(22484);let i=n.A.create({baseURL:"https://rimbaexium.org",headers:{Accept:"application/json"}});async function a(){try{let e=(await n.A.post("".concat("https://rimbaexium.org","/auth/refresh"),{},{withCredentials:!0})).data.accessToken;return(0,s.O5)(e),e}catch(e){return null}}i.interceptors.request.use(e=>{let r=(0,s.c4)();return r&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var r;let t=e.config;if((null==(r=e.response)?void 0:r.status)===401&&!t._retry){t._retry=!0;let e=await a();if(e)return t.headers.Authorization="Bearer ".concat(e),i(t)}return Promise.reject(e)});var u=t(20063),c=t(12115);function d(e){let{id:r,showLoadingToast:t=!0,showSuccessToast:n=!0,showErrorToast:s=!0,loadingMessage:a,successMessage:d,errorMessage:p,signinPath:_="/"}=e,{l:h}=(0,l.A)(),g=(0,u.useRouter)(),m=(0,c.useRef)(null),[f,x]=(0,c.useState)({loading:!1,status:null,error:null,response:null}),{loading:b,status:v,error:A,response:k}=f,j={title:(null==a?void 0:a.title)||h.loading_default.title,description:(null==a?void 0:a.description)||h.loading_default.description},C={title:(null==d?void 0:d.title)||h.success_default.title,description:(null==d?void 0:d.description)||h.success_default.description},w=(0,c.useCallback)(e=>{x(r=>({...r,...e}))},[]);return{req:(0,c.useCallback)(async e=>{var l,a,u;let{config:c,onResolve:d}=e;try{t&&o.X.loading({id:r,title:j.title,description:j.description,action:{label:"Close",onClick:()=>{}}}),w({loading:!0,error:null,status:null}),c.url="".concat("https://rimbaexium.org").concat(c.url),m.current&&m.current.abort();let e=new AbortController;m.current=e,c.signal=e.signal;let s=await i(c);return w({loading:!1,status:s.status,response:s}),[200,201,304].includes(s.status)&&(null==d||null==(l=d.onSuccess)||l.call(d,s),n?o.X.update(r,{type:"success",title:C.title,description:C.description,action:{label:"Close",onClick:()=>{}}}):o.X.dismiss(r)),s}catch(n){if("ERR_CANCELED"===n.code)return void w({loading:!1});let e=null==(a=n.response)?void 0:a.status;w({loading:!1,error:!0,status:e,response:n.response}),503===e&&(null==g||g.push("/maintenance"));let l=(e=>{var r,t,o;let l=null==(r=e.response)?void 0:r.status,n=null==(o=e.response)||null==(t=o.data)?void 0:t.case;if("ERR_NETWORK"===e.code)return h.error_network;if(l&&(null==p?void 0:p[l]))return n&&p[l][n]?p[l][n]:p[l].default||{title:h.error_default.title,description:h.error_default.description};switch(l){case 400:if("INVALID_CREDENTIALS"===n)return h.error_signin_wrong_credentials;return h.error_400_default;case 401:if("ACCOUNT_DEACTIVATED"===n)return h.error_401_account_deactivated;return h.error_401_default;case 403:return h.error_403_default;case 404:return h.error_404_default;case 409:switch(n){case"ATTEMPT_CLOSED":return h.error_409_quiz_attempt_closed;case"ALREADY_EXISTS":return h.error_409_course_already_subbed;default:return h.error_409_default}case 422:if("INVALID_CREDENTIALS"===n)return h.error_signin_wrong_credentials;return h.error_422_default;case 429:return h.error_429_default;case 500:return h.error_500_default;default:return h.error_default}})(n);throw s&&(t?o.X.update(r,{type:"error",...l,action:{label:"Close",onClick:()=>{}}}):o.X.create({type:"error",...l,action:{label:"Close",onClick:()=>{}}})),null==d||null==(u=d.onError)||u.call(d,n),n}},[r,t,n,s,j,C,_,p,h,g,w]),loading:b,status:v,error:A,response:k,setReqState:x}}},46767:(e,r,t)=>{t.d(r,{m:()=>s});var o=t(95155),l=t(60167),n=t(58579);let s=t(12115).forwardRef(function(e,r){let{showArrow:t,children:s,disabled:i,portalled:a=!0,content:u,contentProps:c,portalRef:d,...p}=e;return i?s:(0,o.jsxs)(l.sb,{...p,children:[(0,o.jsx)(l.k$,{asChild:!0,children:s}),(0,o.jsx)(n.Z,{disabled:!a,container:d,children:(0,o.jsx)(l.ol,{children:(0,o.jsxs)(l.ZI,{ref:r,className:"dsb ss",...c,children:[t&&(0,o.jsx)(l.PR,{children:(0,o.jsx)(l.Mo,{})}),u]})})})]})})},55749:(e,r,t)=>{t.d(r,{A:()=>l});var o=t(32309);let l=(0,t(25959).v)(e=>{let r=(0,o.c7)("adm");return null===r&&(0,o.cT)("adm","false"),{ADM:null!==r&&"true"===r,setADM:r=>e(()=>((0,o.cT)("adm",r?"true":"false"),{ADM:r}))}})},64254:(e,r,t)=>{t.d(r,{A:()=>o});let o=(0,t(25959).v)((e,r)=>({verifiedAuthToken:null,setVerifiedAuthToken:r=>e(()=>(localStorage.setItem("__auth_token",r||""),{verifiedAuthToken:r})),role:null,setRole:r=>e(()=>({role:r})),permissions:null,setPermissions:r=>e(()=>({permissions:r})),hasPermissions:e=>{var t;let o=null!=(t=r().permissions)?t:[];return e.every(e=>o.includes(e))},removeAuth:()=>{r().removeAuthToken(),r().removePermissions(),r().removeRole()},removeAuthToken:()=>{localStorage.removeItem("__auth_token"),e(()=>({verifiedAuthToken:void 0}))},removePermissions:()=>e(()=>({permissions:void 0})),removeRole:()=>e(()=>({role:void 0}))}))}}]);