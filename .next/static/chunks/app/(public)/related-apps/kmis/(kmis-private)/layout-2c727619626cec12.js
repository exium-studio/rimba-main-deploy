(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1482],{17847:(e,l,s)=>{Promise.resolve().then(s.bind(s,27851))},27851:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>k});var r=s(95155),t=s(25535),a=s(18653),o=s(7579),i=s(92091);let n=(0,s(30313).A)("filled","shield-check-filled","ShieldCheckFilled",[["path",{d:"M11.998 2l.118 .007l.059 .008l.061 .013l.111 .034a.993 .993 0 0 1 .217 .112l.104 .082l.255 .218a11 11 0 0 0 7.189 2.537l.342 -.01a1 1 0 0 1 1.005 .717a13 13 0 0 1 -9.208 16.25a1 1 0 0 1 -.502 0a13 13 0 0 1 -9.209 -16.25a1 1 0 0 1 1.005 -.717a11 11 0 0 0 7.531 -2.527l.263 -.225l.096 -.075a.993 .993 0 0 1 .217 -.112l.112 -.034a.97 .97 0 0 1 .119 -.021l.115 -.007zm3.71 7.293a1 1 0 0 0 -1.415 0l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",key:"svg-0"}]]),u=e=>{let{...l}=e;return(0,r.jsx)(t.T,{justify:"center",align:"center",minH:"100dvh",w:"100vw",...l,children:(0,r.jsxs)(o.o,{pos:"relative",color:"fg.subtle",children:[(0,r.jsx)(i.I,{boxSize:8,children:(0,r.jsx)(n,{})}),(0,r.jsx)(a.A,{boxSize:"50px",pos:"absolute"})]})})};var c=s(64254),d=s(40773),h=s(22484),f=s(32309),_=s(20063),p=s(12115);function k(e){let{children:l}=e,s=(0,h.c4)(),t=(0,c.A)(e=>e.verifiedAuthToken),a=(0,c.A)(e=>e.setRole),o=(0,c.A)(e=>e.setPermissions),i=(0,c.A)(e=>e.setVerifiedAuthToken),n=(0,_.useRouter)(),{req:k,loading:v}=(0,d.A)({id:"user-profile",showLoadingToast:!1,showSuccessToast:!1,showErrorToast:!1}),[x,A]=(0,p.useState)(!1);return((0,p.useEffect)(()=>{if(!s)return void A(!0);s&&!t?k({config:{method:"GET",url:"/api/profile/get-user-profile"},onResolve:{onSuccess:e=>{let l=e.data.data;(0,f.cT)("__auth_token",s,"local",2592e5),(0,f.cT)("__user_data",JSON.stringify(l),"local",2592e5),i(s),a(l.role),o(l.role.permissions),A(!0)},onError:()=>{(0,f.Od)("__auth_token"),(0,f.Od)("__user_data"),A(!0)}}}):A(!0)},[s,t]),(0,p.useEffect)(()=>{x&&!t&&n.replace("/")},[x,t]),!x||v)?(0,r.jsx)(u,{}):(0,r.jsx)(r.Fragment,{children:t&&l})}}},e=>{e.O(0,[9731,292,642,2821,8441,4696,7358],()=>e(e.s=17847)),_N_E=e.O()}]);